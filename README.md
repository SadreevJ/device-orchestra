# Device Orchestra ‚Äî Universal Device Control & Debug Framework by Udav

–õ–µ–≥–∫–∞—è –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–∞—è OOP-—Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º –∏ –æ—Ç–ª–∞–¥–∫–∏ CV-–ø–∞–π–ø–ª–∞–π–Ω–æ–≤.

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?](#–∑–∞—á–µ–º-—ç—Ç–æ-–Ω—É–∂–Ω–æ)
  - [–ì–ª–∞–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ - –•–ê–û–° –≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏](#–≥–ª–∞–≤–Ω–∞—è-–ø—Ä–æ–±–ª–µ–º–∞---—Ö–∞–æ—Å-–≤-–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏)
  - [5 –∫–ª—é—á–µ–≤—ã—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤](#5-–∫–ª—é—á–µ–≤—ã—Ö-–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤)
- [–ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏](#–ø—Ä–æ—Å—Ç—ã–º–∏-—Å–ª–æ–≤–∞–º–∏)
- [–î–ª—è –∫–æ–≥–æ —ç—Ç–æ?](#–¥–ª—è-–∫–æ–≥–æ-—ç—Ç–æ)
- [–ö–æ–Ω–µ—á–Ω–∞—è –≤—ã–≥–æ–¥–∞](#–∫–æ–Ω–µ—á–Ω–∞—è-–≤—ã–≥–æ–¥–∞)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
  - [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π)
  - [–ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã](#–∫–ª—é—á–µ–≤—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã)
  - [–¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](#—Ç–æ—á–∫–∏-–≤—Ö–æ–¥–∞-–¥–ª—è-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-—É—Å—Ç—Ä–æ–π—Å—Ç–≤)
- [–ü–∞–π–ø–ª–∞–π–Ω—ã](#–ø–∞–π–ø–ª–∞–π–Ω—ã)
- [API –¥–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤](#api-–¥–ª—è-—É—Å—Ç—Ä–æ–π—Å—Ç–≤)
- [CLI –∫–æ–º–∞–Ω–¥—ã](#cli-–∫–æ–º–∞–Ω–¥—ã)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [E2E –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è](#e2e-–¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è)
- [–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ](#–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã](#—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ-—Å–∏—Å—Ç–µ–º—ã)
- [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- [–î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ](#–¥–∞–ª—å–Ω–µ–π—à–µ–µ-—Ä–∞–∑–≤–∏—Ç–∏–µ)

## –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?

### **–ì–ª–∞–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ - –•–ê–û–° –≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏**

**–£ –≤–∞—Å –µ—Å—Ç—å –∫—É—á–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –Ω–æ –æ–Ω–∏ –Ω–µ –¥—Ä—É–∂–∞—Ç:**
```
üìÅ focus_stacking/     ‚Üí —Å–≤–æ–π API, —Å–≤–æ–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
üìÅ camera_control/     ‚Üí —Å–≤–æ–π –ø—Ä–æ—Ç–æ–∫–æ–ª, —Å–≤–æ—è –ª–æ–≥–∏–∫–∞  
üìÅ analytics/          ‚Üí —Å–≤–æ–∏ —Ñ–æ—Ä–º–∞—Ç—ã, —Å–≤–æ–∏ –∫–æ–º–∞–Ω–¥—ã
üìÅ motor_control/      ‚Üí —Å–≤–æ–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, —Å–≤–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```

**Device Orchestra –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –≤—Å–µ —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**
```
focus.send_command("stack", layers=30, step=0.1)
camera.send_command("capture", resolution="4K")  
analytics.send_command("detect", model="yolo")
motor.send_command("move", x=10, y=5)
```

### **5 –∫–ª—é—á–µ–≤—ã—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤**

#### **PLUG & PLAY –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
- –õ—é–±–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ = –ø—Ä–æ—Å—Ç–æ –∫–ª–∞—Å—Å –Ω–∞—Å–ª–µ–¥–Ω–∏–∫ `DeviceBase`
- –ù–æ–≤–∞—è –∫–∞–º–µ—Ä–∞? –°–æ–∑–¥–∞–ª–∏ –∫–ª–∞—Å—Å ‚Üí –¥–æ–±–∞–≤–∏–ª–∏ –≤ JSON ‚Üí —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ù–µ—Ç –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞

#### **CONFIG-FIRST –ø–æ–¥—Ö–æ–¥**
```json
// –ò–∑–º–µ–Ω–∏–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ JSON - –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
{
  "id": "main_camera",
  "params": {
    "resolution": [4096, 3072],  // ‚Üê –ø—Ä–æ—Å—Ç–æ –ø–æ–º–µ–Ω—è–ª–∏
    "exposure": 100,
    "algorithm": "auto_focus"    // ‚Üê –ø–µ—Ä–µ–∫–ª—é—á–∏–ª–∏ –∞–ª–≥–æ—Ä–∏—Ç–º
  }
}
```

#### **–¢–ï–°–¢–ò–†–£–ï–ú–û–°–¢–¨ –±–µ–∑ –∂–µ–ª–µ–∑–∞**
```bash
# –¢–µ—Å—Ç–∏—Ä—É–µ—Ç–µ —Å–ª–æ–∂–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω –ë–ï–ó —Ä–µ–∞–ª—å–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
python cli.py run-pipeline macro_scan.json --dry-run

# –ö–∞–∂–¥–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏
python cli.py test focus_motor --verbose
```

#### **–ü–ï–†–ï–ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**
```python
# –û–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –º–æ—Ç–æ—Ä –≤ —Ä–∞–∑–Ω—ã—Ö –ø–∞–π–ø–ª–∞–π–Ω–∞—Ö
focus_motor.send_command("move", steps=100)    # —Ñ–æ–∫—É—Å-—Å—Ç–µ–∫–∏–Ω–≥
focus_motor.send_command("move", steps=-50)    # –≤–æ–∑–≤—Ä–∞—Ç –ø–æ–∑–∏—Ü–∏–∏
focus_motor.send_command("home")               # –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞
```

#### **–ù–ê–ë–õ–Æ–î–ê–ï–ú–û–°–¢–¨ –∏–∑ –∫–æ—Ä–æ–±–∫–∏**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ª–æ–≥–∏ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏  
- Event-—Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Ä–µ–∞–∫—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### **–ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏**

**Device Orchestra –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –≤–∞—à "–∑–æ–æ–ø–∞—Ä–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤" –≤ "–æ—Ä–∫–µ—Å—Ç—Ä –º—É–∑—ã–∫–∞–Ω—Ç–æ–≤"**

- **–î–∏—Ä–∏–∂—ë—Ä** = DeviceManager (—É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ–º–∏)
- **–ú—É–∑—ã–∫–∞–Ω—Ç—ã** = –≤–∞—à–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–∫–∞–∂–¥—ã–π –∑–Ω–∞–µ—Ç —Å–≤–æ—é –ø–∞—Ä—Ç–∏—é)  
- **–ù–æ—Ç—ã** = JSON –ø–∞–π–ø–ª–∞–π–Ω—ã (–æ–ø–∏—Å—ã–≤–∞—é—Ç —á—Ç–æ –∏–≥—Ä–∞—Ç—å)
- **–ö–æ–Ω—Ü–µ—Ä—Ç** = –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ workflow

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í–º–µ—Å—Ç–æ —Ö–∞–æ—Å–∞ - —Å–ª–∞–∂–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤! üéâ

### **–î–ª—è –∫–æ–≥–æ —ç—Ç–æ?**

- **–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–∏** - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
- **–§–æ—Ç–æ–≥—Ä–∞—Ñ—ã** - –º–∞–∫—Ä–æ—Å—ä—ë–º–∫–∞, —Ñ–æ–∫—É—Å-—Å—Ç–µ–∫–∏–Ω–≥
- **–†–æ–±–æ—Ç–æ—Ç–µ—Ö–Ω–∏–∫–∏** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –∞–∫—Ç—É–∞—Ç–æ—Ä–æ–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ç–æ—Ä—ã** - –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
- **–ú–µ–π–∫–µ—Ä—ã** - DIY –ø—Ä–æ–µ–∫—Ç—ã —Å Arduino/RaspberryPi/OrangePi

### **–ö–æ–Ω–µ—á–Ω–∞—è –≤—ã–≥–æ–¥–∞**

- **–≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏** - –±–æ–ª—å—à–µ –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç–µ workflow –∏–∑ –∫—É—Å–æ—á–∫–æ–≤
- **–ú–µ–Ω—å—à–µ –±–∞–≥–æ–≤** - —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç–µ –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–¥–µ–ª—å–Ω–æ
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è–µ—Ç–µ –Ω–æ–≤—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- **–ö–æ–º–∞–Ω–¥–Ω–∞—è —Ä–∞–±–æ—Ç–∞** - –ø–æ–Ω—è—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –≤—Å–µ—Ö
- **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** - –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞–ø–∏—Å–∞–ª–∏, –≤–µ–∑–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
git clone https://github.com/SadreevJ/device-orchestra.git
cd device-orchestra
python -m venv .venv
source .venv/bin/activate  # Linux/macOS
# .venv\Scripts\activate   # Windows
pip install -r requirements.txt

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
python example_usage.py
pytest tests/ -v

# CLI –∫–æ–º–∞–Ω–¥—ã
python cli.py status
python cli.py test fake_cam
python cli.py run-pipeline config/pipeline_example.json --dry-run
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

```
device-orchestra/
‚îú‚îÄ‚îÄ üìÅ core/                # –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã (7 —Ñ–∞–π–ª–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py         # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤
‚îÇ   ‚îú‚îÄ‚îÄ device_base.py      # –ë–∞–∑–æ–≤—ã–π –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
‚îÇ   ‚îú‚îÄ‚îÄ device_manager.py   # –ú–µ–Ω–µ–¥–∂–µ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —Å Factory pattern
‚îÇ   ‚îú‚îÄ‚îÄ device_factory.py   # –§–∞–±—Ä–∏–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –ø–æ —Ç–∏–ø–∞–º
‚îÇ   ‚îú‚îÄ‚îÄ config_loader.py    # –ó–∞–≥—Ä—É–∑—á–∏–∫ JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ events.py           # Event Bus (Observer pattern)
‚îÇ   ‚îî‚îÄ‚îÄ logger.py           # –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ
‚îú‚îÄ‚îÄ üìÅ devices/             # –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (3 —Ñ–∞–π–ª–∞)
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py         # –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
‚îÇ   ‚îú‚îÄ‚îÄ camera_opencv.py    # OpenCV –∫–∞–º–µ—Ä–∞ (capture, save_frame)
‚îÇ   ‚îî‚îÄ‚îÄ motor_stepper.py    # –®–∞–≥–æ–≤—ã–π –º–æ—Ç–æ—Ä (home, move, stop)
‚îÇ
‚îú‚îÄ‚îÄ üìÅ adapters/            # –ê–¥–∞–ø—Ç–µ—Ä—ã –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ (2 —Ñ–∞–π–ª–∞)
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py         # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–¥–∞–ø—Ç–µ—Ä–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ serial_adapter.py   # Serial –ø–æ—Ä—Ç (—Å —ç–º—É–ª—è—Ü–∏–µ–π –¥–ª—è —Ç–µ—Å—Ç–æ–≤)
‚îÇ
‚îú‚îÄ‚îÄ üìÅ debug_tools/         # –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ—Ç–ª–∞–¥–∫–∏ (4 —Ñ–∞–π–ª–∞)
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py         # –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ fake_device.py      # –§–µ–π–∫–æ–≤—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ device_tester.py    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
‚îÇ   ‚îî‚îÄ‚îÄ perf_monitor.py     # –ú–æ–Ω–∏—Ç–æ—Ä –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã
‚îÇ
‚îú‚îÄ‚îÄ üìÅ runners/             # –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ –ø–∞–π–ø–ª–∞–π–Ω–æ–≤ (2 —Ñ–∞–π–ª–∞)
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py         # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è runners
‚îÇ   ‚îî‚îÄ‚îÄ pipeline_runner.py  # –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ JSON –ø–∞–π–ø–ª–∞–π–Ω–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ üìÅ tests/               # –¢–µ—Å—Ç—ã (2 —Ñ–∞–π–ª–∞)
‚îÇ   ‚îú‚îÄ‚îÄ test_core.py        # Unit —Ç–µ—Å—Ç—ã –¥–ª—è core –º–æ–¥—É–ª–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ test_pipeline.py    # Integration —Ç–µ—Å—Ç—ã —Å PipelineRunner
‚îÇ
‚îú‚îÄ‚îÄ üìÅ config/              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (2 —Ñ–∞–π–ª–∞)
‚îÇ   ‚îú‚îÄ‚îÄ devices.json        # –û–ø–∏—Å–∞–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
‚îÇ   ‚îî‚îÄ‚îÄ pipeline_example.json # –ü—Ä–∏–º–µ—Ä –ø–∞–π–ø–ª–∞–π–Ω–∞
‚îÇ
‚îú‚îÄ‚îÄ üìÅ logs/                # –õ–æ–≥–∏ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îÇ   ‚îî‚îÄ‚îÄ device-orchestra_YYYYMMDD.log   # –õ–æ–≥–∏ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã
‚îÇ
‚îú‚îÄ‚îÄ cli.py                  # CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ example_usage.py        # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ pyproject.toml          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ (—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ª–∏–Ω—Ç–µ—Ä—ã)
‚îú‚îÄ‚îÄ requirements.txt        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îî‚îÄ‚îÄ LICENSE                 # MIT –ª–∏—Ü–µ–Ω–∑–∏—è
```

### –ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

- **Factory Pattern** ‚Äî `DeviceFactory` —Å–æ–∑–¥–∞–µ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø–æ —Ç–∏–ø–∞–º
- **Observer Pattern** ‚Äî `EventBus` –¥–ª—è —Å–æ–±—ã—Ç–∏–π —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- **Adapter Pattern** ‚Äî `SerialAdapter` –¥–ª—è –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤
- **Command Pattern** ‚Äî `send_command()` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **Config-first** ‚Äî –≤—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –æ–ø–∏—Å–∞–Ω—ã –≤ JSON

### –¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

| –ó–∞–¥–∞—á–∞ | –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|----------|
| –ù–æ–≤–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ | `devices/my_device.py` | –ù–∞—Å–ª–µ–¥—É–π—Ç–µ –æ—Ç `DeviceBase` |
| –ù–æ–≤—ã–π –∞–¥–∞–ø—Ç–µ—Ä | `adapters/my_adapter.py` | –†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª —Å–≤—è–∑–∏ |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | `tests/test_my_feature.py` | Unit/Integration —Ç–µ—Å—Ç—ã |
| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | `config/devices.json` | –î–æ–±–∞–≤—å—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ |
| CLI –∫–æ–º–∞–Ω–¥–∞ | `cli.py` | –†–∞—Å—à–∏—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å |
| –ü–∞–π–ø–ª–∞–π–Ω | `config/my_pipeline.json` | JSON –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ |

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤

```json
[
  {
    "id": "cam1",
    "type": "OpenCVCamera",
    "params": {
      "index": 0,
      "resolution": [1920, 1080],
      "fps": 30
    }
  },
  {
    "id": "motor1", 
    "type": "StepperMotor",
    "params": {
      "port": "/dev/ttyUSB0",
      "baudrate": 115200,
      "microstep": 16
    }
  }
]
```

## –ü–∞–π–ø–ª–∞–π–Ω—ã

```json
[
  {
    "step": "init",
    "device": "motor1",
    "action": "home"
  },
  {
    "step": "capture", 
    "device": "cam1",
    "action": "capture",
    "save_to": "images/step1.jpg"
  },
  {
    "step": "move",
    "device": "motor1", 
    "action": "move",
    "args": {"steps": 200}
  }
]
```

## API –¥–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å DeviceBase

```python
class DeviceBase(ABC):
    def __init__(self, id: str, params: Dict[str, Any])
    def start(self) -> None                    # –ó–∞–ø—É—Å–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
    def stop(self) -> None                     # –û—Å—Ç–∞–Ω–æ–≤–∫–∞  
    def status(self) -> Dict[str, Any]         # –°—Ç–∞—Ç—É—Å
    def send_command(self, command: str, **kwargs) -> Any  # –ö–æ–º–∞–Ω–¥—ã
```

### –ü—Ä–∏–º–µ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

```python
from core.device_base import DeviceBase

class MyDevice(DeviceBase):
    def start(self):
        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
        pass
        
    def stop(self):
        # –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
        pass
        
    def status(self):
        return {"id": self.id, "connected": True}
        
    def send_command(self, command, **kwargs):
        if command == "my_action":
            return {"result": "success"}
```

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

```python
# –í core/__init__.py
from devices.my_device import MyDevice
device_factory.register("MyDevice", MyDevice)

# –í config/devices.json  
{
  "id": "my_dev1",
  "type": "MyDevice",
  "params": {"param1": "value1"}
}
```

## CLI –∫–æ–º–∞–Ω–¥—ã

```bash
python cli.py status                           # –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
python cli.py test <device_id>                 # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞  
python cli.py debug <device_id>                # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞
python cli.py run-pipeline <file>              # –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–∞–π–ø–ª–∞–π–Ω–∞
python cli.py run-pipeline <file> --dry-run    # –°–∏–º—É–ª—è—Ü–∏—è –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
pytest tests/ -v

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –º–æ–¥—É–ª–∏
pytest tests/test_core.py -v        # –¢–µ—Å—Ç—ã —è–¥—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
pytest tests/test_pipeline.py -v    # –¢–µ—Å—Ç—ã –ø–∞–π–ø–ª–∞–π–Ω–æ–≤

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —á–µ—Ä–µ–∑ CLI
python cli.py test fake_cam          # –¢–µ—Å—Ç —Ñ–µ–π–∫–æ–≤–æ–π –∫–∞–º–µ—Ä—ã
python cli.py test fake_motor        # –¢–µ—Å—Ç —Ñ–µ–π–∫–æ–≤–æ–≥–æ –º–æ—Ç–æ—Ä–∞
python cli.py test cam1 --verbose    # –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–π –∫–∞–º–µ—Ä—ã

# –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
python example_usage.py             # –ü–æ–ª–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã

# Dry-run –ø–∞–π–ø–ª–∞–π–Ω–∞ (–±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
python cli.py run-pipeline config/pipeline_example.json --dry-run
```

## E2E –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è

–°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç E2E —Ç–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç —Ä–∞–±–æ—Ç—É –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Ä–º–æ–º–µ—Ç—Ä–∞ –∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, –∫–∞–∫ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∂–µ–ª–µ–∑–∞.

### –ß—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ç–µ—Ä–º–æ–º–µ—Ç—Ä:

- **–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** ‚Äî –∏–∑–º–µ—Ä–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∫–∞–∂–¥—ã–µ 100-200–º—Å
- **Event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** ‚Äî —Å–æ–±—ã—Ç–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `EventBus`
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –ø–µ—Ä–µ–≥—Ä–µ–≤** ‚Äî –ø—Ä–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ > 28¬∞C —Å–∏—Å—Ç–µ–º–∞ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** ‚Äî –≤—Å–µ —Å–æ–±—ã—Ç–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- **Concurrent –æ–±—Ä–∞–±–æ—Ç–∫–∞** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–µ—Ä–º–æ–º–µ—Ç—Ä–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

### –ó–∞–ø—É—Å–∫ E2E —Ç–µ—Å—Ç–∞:

```bash
# –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç-—Å—Ü–µ–Ω–∞—Ä–∏–π
pytest tests/e2e/test_virtual_device_flow.py -v

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
pytest tests/e2e/test_virtual_device_flow.py::TestVirtualDeviceFlow::test_overheat_detection_and_cooling -v

# –° –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
pytest tests/e2e/test_virtual_device_flow.py -v -s
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –§–∞–π–ª `test_virtual_device_flow.py` –±—ã–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω, –Ω–æ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. –ö—ç—à PyTest –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —Ç–µ—Å—Ç –≤—ã–ø–æ–ª–Ω—è–ª—Å—è —Ä–∞–Ω–µ–µ.

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç E2E —Ç–µ—Å—Ç:

- ‚úÖ **–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** ‚Äî –∑–∞–ø—É—Å–∫, —Ä–∞–±–æ—Ç–∞, –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
- ‚úÖ **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö** ‚Äî –∏–∑–º–µ—Ä–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ **Event Bus** ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–µ–≥—Ä–µ–≤–µ
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- ‚úÖ **Concurrent —Ä–∞–±–æ—Ç–∞** ‚Äî –Ω–µ—Å–∫–æ–ª—å–∫–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- ‚úÖ **–ö–æ–º–∞–Ω–¥—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π API

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ E2E —Ç–µ—Å—Ç–∞–º:

–í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏:

```bash
# –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è FakeDevice —Å —ç–º—É–ª—è—Ü–∏–µ–π —Å–æ–±—ã—Ç–∏–π
python example_usage.py

# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
python cli.py debug fake_cam
python cli.py debug fake_motor
```

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

Device Orchestra –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:

```python
from core import get_logger

logger = get_logger("my_module")
logger.info("–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ")
logger.error("–û—à–∏–±–∫–∞")
```

–õ–æ–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `logs/device-orchestra_YYYYMMDD.log`. –ü–∞–ø–∫–∞ `logs/` —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Python 3.11+**
- **OpenCV** –¥–ª—è –∫–∞–º–µ—Ä: `pip install opencv-python`
- **Serial** –¥–ª—è –º–æ—Ç–æ—Ä–æ–≤: `pip install pyserial`
- **psutil** –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞: `pip install psutil`

### Linux
```bash
sudo apt install python3.11 python3.11-venv libgl1
```

### Windows  
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.11+ –∏ Git for Windows.

### OrangePi/RaspberryPi
```bash
pip install python-periphery
sudo usermod -a -G dialout $USER  # –î–ª—è serial –ø–æ—Ä—Ç–æ–≤
```

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

1. **–°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å** –≤ `devices/my_device.py`
2. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ** –≤ `core/__init__.py`  
3. **–î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é** –≤ `config/devices.json`
4. **–ù–∞–ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã** –≤ `tests/test_my_device.py`

### –ù–æ–≤—ã–π —Ç–∏–ø –ø–∞–π–ø–ª–∞–π–Ω–∞

1. **–†–∞—Å—à–∏—Ä—å—Ç–µ** `PipelineRunner._execute_step()`
2. **–î–æ–±–∞–≤—å—Ç–µ –≤–∞–ª–∏–¥–∞—Ü–∏—é** –≤ `_validate_step()`
3. **–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–º–µ—Ä** –≤ `config/my_pipeline.json`

### –ù–æ–≤—ã–π –∞–¥–∞–ø—Ç–µ—Ä –ø—Ä–æ—Ç–æ–∫–æ–ª–∞

1. **–°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å** –≤ `adapters/my_adapter.py`
2. **–î–æ–±–∞–≤—å—Ç–µ –≤** `adapters/__init__.py`
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ** –≤ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

## –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

### FakeDevice - —ç–º—É–ª—è—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤

–°–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å `FakeDevice` - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º —ç–º—É–ª—è—Ç–æ—Ä–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤:

```python
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ñ–µ–π–∫–æ–≤–æ–π –∫–∞–º–µ—Ä—ã
{
  "id": "fake_cam",
  "type": "FakeDevice", 
  "params": {
    "device_type": "camera",
    "simulation_mode": "normal",
    "base_delay": 0.1,
    "error_probability": 0.02
  }
}
```

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤:**
- `camera` - –∏–º–∏—Ç–∞—Ü–∏—è –∫–∞–º–µ—Ä—ã (capture, get_frame)
- `motor` - –∏–º–∏—Ç–∞—Ü–∏—è –º–æ—Ç–æ—Ä–∞ (move, home, stop)
- `generic` - –±–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã (ping, status)

**–†–µ–∂–∏–º—ã —Å–∏–º—É–ª—è—Ü–∏–∏:**
- `normal` - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏
- `fast` - —É—Å–∫–æ—Ä–µ–Ω–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- `error` - –ø–æ–≤—ã—à–µ–Ω–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—à–∏–±–æ–∫

### –ü–æ–ª–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã

```bash
# –ó–∞–ø—É—Å–∫ example_usage.py –ø–æ–∫–∞–∂–µ—Ç:
python example_usage.py

# ‚úÖ –ó–∞–≥—Ä—É–∑–∫—É –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é —É—Å—Ç—Ä–æ–π—Å—Ç–≤
# ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞  
# ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—é –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–∞–π–ø–ª–∞–π–Ω–∞ –≤ dry-run —Ä–µ–∂–∏–º–µ
# ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é —Ä–∞–±–æ—Ç—É —Å FakeDevice
# ‚úÖ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é –∫–æ–º–∞–Ω–¥ –∏ —Å—Ç–∞—Ç—É—Å–æ–≤
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ `.gitignore` –∏—Å–∫–ª—é—á–∞–µ—Ç –ª–æ–≥–∏ –∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ –ù–µ—Ç —Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π –∏–ª–∏ –∫–ª—é—á–µ–π
- ‚úÖ –í—Å–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö JSON —Ñ–∞–π–ª–∞—Ö
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ò–∑–æ–ª—è—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —á–µ—Ä–µ–∑ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏

## –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

### üöÄ –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** ‚Äî –ü–æ–¥–¥–µ—Ä–∂–∫–∞ async/await –¥–ª—è –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- [ ] **Communication Interface** ‚Äî –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å–≤—è–∑–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤
- [ ] **Web API** ‚Äî FastAPI endpoints –¥–ª—è HTTP —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- [ ] **WebSocket** ‚Äî Real-time —Å–æ–±—ã—Ç–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤  
- [ ] **Web UI** ‚Äî React –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- [ ] **Docker** ‚Äî –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- [ ] **Plugins** ‚Äî –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤ –¥–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- [ ] **YAML** ‚Äî –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- [ ] **SSH/REST** ‚Äî –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞–¥–∞–ø—Ç–µ—Ä—ã —Å–≤—è–∑–∏

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License ‚Äî —Å–º. [LICENSE](LICENSE)



## –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è `SadreevJ/device-orchestra`
2. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –≤–∞—à fork: `git clone https://github.com/YOUR_USERNAME/device-orchestra.git`
3. –°–æ–∑–¥–∞–π—Ç–µ feature branch: `git checkout -b feature/amazing-feature`
4. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ commit: `git commit -m 'Add amazing feature'`
5. Push –≤ –≤–∞—à fork: `git push origin feature/amazing-feature`
6. –°–æ–∑–¥–∞–π—Ç–µ Pull Request –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
